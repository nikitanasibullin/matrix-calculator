# Программное обеспечение для вычислений с матрицами

Программа поддерживает операции с матрицами, элементами которых являются рациональные числа с длинными целыми числителями и знаменателями.

Для записи команд используется кембриджская префиксная нотация.

Программа читает команды из входного файла, выполняет указанные операции с матрицами и записывает результаты в выходной файл. Реализована обработка ошибок для некорректных выражений и форматированный вывод для скаляров, векторов и матриц.

## Возможности

Программа поддерживает следующие операторы и функции в кембриджской префиксной нотации:

- **Присваивание**: `(= var value)` — Присваивает переменной `var` значение `value`.
- **Арифметические операции**:
  - `(+ A B)` — Сложение матриц.
  - `(- A B)` — Вычитание матриц.
  - `(.* A B)` — Поэлементное умножение матриц.
  - `(./ A B)` — Поэлементное деление матриц.
  - `(* A B)` — Матричное умножение.
  - `(/ A B)` — Матричное деление (A \* B⁻¹).
  - `(- A)` — Унарный минус.
- **Создание матриц**:
  - `(zeros n m)` — Создает матрицу n×m из нулей.
  - `(ones n m)` — Создает матрицу n×m из единиц.
  - `(eye n)` — Создает единичную матрицу n×n.
  - `(linspace x0 x1 n)` — Создает вектор-строку с n элементами от x0 до x1.
- **Конкатенация матриц**:
  - `(vertcat A1 A2 ... An)` — Вертикальная конкатенация матриц.
  - `(horzcat A1 A2 ... An)` — Горизонтальная конкатенация матриц.
- **Операции с матрицами**:
  - `(transpose A)` — Транспонирование матрицы.
  - `(det A)` — Вычисление определителя матрицы.
  - `(inv A)` — Вычисление обратной матрицы.
  - `(sum A)` — Вычисление суммы всех элементов матрицы.
  - `(prod A)` — Вычисление произведения всех элементов матрицы.
  - `(min A B)` — Поэлементный минимум для матриц A и B одинакового размера.
  - `(max A B)` — Поэлементный максимум для матриц A и B одинакового размера.
- **Вывод**: `(disp A)` — Вывод значения A в выходной файл.

### Формат идентификаторов

- Имена переменных состоят из букв английского алфавита (больших и маленьких) и цифр.
- Имя не может начинаться с цифры.
- Максимальная длина имени переменной — 31 символ.

### Формат входных данных

- Входной файл содержит скрипт на языке матричных вычислений.
- Каждая команда записана в отдельной строке.
- Аргументы программы: имя входного файла и имя выходного файла.

### Обработка ошибок

Если в выражении во входном файле содержится ошибка, в выходной файл записывается сообщение: `Error in line X`, где X — номер строки во входном файле (нумерация начинается с 1).

### Формат вывода

- **Скаляр**:
  - Формат: `имя_переменной = значение_переменной`.
  - Для целых чисел выводится только числитель.
  - Для рациональных дробей выводится `числитель/знаменатель`.
  - Для отрицательных чисел знак выводится с числителем.
- **Матрица или вектор**:
  - Первая строка: `имя_переменной = [`.
  - Далее построчно выводится матрица, столбцы выравниваются по правому краю.
  - Последняя строка: `]`.
- Если в `(disp A)` передано выражение, а не переменная, в качестве имени используется `ans`.

## Сборка и запуск

### Требования

- Операционная система: Linux (Ubuntu).
- Компилятор: C++ (поддержка стандарта C++11 или выше).
- Система сборки: CMake.

### Структура проекта

Все исходные файлы (`*.cpp`, `*.hpp`) находятся в одной директории.

### Инструкции по сборке

1. Убедитесь, что CMake и компилятор C++ установлены:

   ```bash
   sudo apt update
   sudo apt install cmake g++ make
   ```

2. Перейдите в директорию проекта:

   ```bash
   cd /path/to/project
   ```

3. Создайте директорию для сборки и перейдите в нее:

   ```bash
   mkdir build && cd build
   ```

4. Выполните CMake для генерации Makefile:

   ```bash
   cmake ..
   ```

5. Скомпилируйте проект:

   ```bash
   make
   ```

6. Исполняемый файл будет создан в директории `build`.

### Запуск программы

Запустите программу, указав имена входного и выходного файлов:

```bash
./matrix_computation input.txt output.txt
```

- `input.txt` — файл со скриптом на языке матричных вычислений.
- `output.txt` — файл для записи результатов.

## Пример использования

### Входной файл (`input.txt`):

```
(= A (eye 2))
(= B (ones 2 2))
(= C (+ A B))
(disp C)
```

### Выходной файл (`output.txt`):

```
C = [
 2/1  1/1
 1/1  2/1
]
```

## Ограничения

- Программа обрабатывает рациональные числа с длинными целыми числителями и знаменателями.
- Размеры матриц и значения элементов должны быть в пределах, поддерживаемых длинной арифметикой.
- Имена переменных не должны превышать 31 символ.
